# üí¨ [YaMDb - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤](https://yacloud.telfia.com/)
![ci workflow](https://github.com/spaut33/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg) ![PyPI - Python Version](https://img.shields.io/pypi/pyversions/django) ![Django](https://img.shields.io/badge/Django-2.2.19-green) ![DRF](https://img.shields.io/badge/DRF-3.12.4-green) ![Docker](https://img.shields.io/badge/Docker-20.10-lightblue) ![Nginx](https://img.shields.io/badge/Nginx-1.21-lightblue) ![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13.0-lightblue)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ —Ñ–∏–ª—å–º–∞—Ö, –∫–Ω–∏–≥–∞—Ö, –º—É–∑—ã–∫–µ. –ö–∞–∂–¥–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –∂–∞–Ω—Ä—ã. –ü–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º REST API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è, –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±–∑–æ—Ä—ã, –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ü–µ–Ω–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–û–ø–∏—Å–∞–Ω–∏–µ API](#–û–ø–∏—Å–∞–Ω–∏–µ-API)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#%EF%B8%8F-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#%EF%B8%8F-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#%EF%B8%8F-–ª–∏—Ü–µ–Ω–∑–∏—è)
- [–ê–≤—Ç–æ—Ä—ã](#-–∞–≤—Ç–æ—Ä—ã)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ –≥–æ—Ç–æ–≤—ã–π Docker-–æ–±—Ä–∞–∑, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π REST API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–≥—É—Ç:
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –ø–æ–ª—É—á–∞—è –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ —Å–≤–æ–π e-mail
- –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ API, —Ä–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `SimpleJWT`
- –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å `/users/me`
- –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π, –∂–∞–Ω—Ä—ã, –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –æ—Ç–∑—ã–≤—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Ç–∑—ã–≤–∞–º
- –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –æ—Ç–∑—ã–≤—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –æ—Ç–∑—ã–≤—ã–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–°–∞–π—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: [YaMDb](https://yacloud.telfia.com/)

### –û–ø–∏—Å–∞–Ω–∏–µ API

–ú–µ—Ç–æ–¥—ã API –∏–º–µ—é—Ç —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞:
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è. –ü–∏—Å–∞—Ç—å —Ä–µ–≤—å—é –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–µ–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∏–º –ø—Ä–∞–≤–∞.
–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∂–∞–Ω—Ä—ã. 

üíÅ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ API —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
```http
  http://yacloud.telfia.com/swagger/
```
```http
  http://yacloud.telfia.com/redoc/
```
## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [git](https://git-scm.com/) –∏ [docker](https://www.docker.com/).

```bash
git clone git@github.com:spaut33/infra_sp2.git
cd infra_sp2
```

–®–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è .env —Ñ–∞–π–ª–∞ (—Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è). –î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `infra` –ø—Ä–æ–µ–∫—Ç–∞:
```env
EMAIL_HOST_USER=email@example.com
EMAIL_HOST_PASSWORD=password

DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432

SECRET_KEY=django-secret-key
```

–°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
cd infra
sudo docker-compose build
sudo docker-compose up
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, —Å–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É:
```bash
docker-compose exec web python3 manage.py migrate
docker-compose exec web python3 manage.py createsuperuser
docker-compose exec web python3 manage.py collectstatic --no-input
```

### –¢–µ—Å—Ç—ã

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd infra_sp2
```

C–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
python3 -m venv env
source env/bin/activate
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã:

```bash
pytest
```

–î–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
docker-compose exec web python3 manage.py flush --no-input
docker-compose exec web python3 manage.py loaddata fixtures.json
```

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [Python 3.7](https://www.python.org/)
- [Django 2.2](https://www.djangoproject.com/)
- [Django Rest Framework 3.12](https://www.django-rest-framework.org/)
- [djangorestframework-simplejwt](https://github.com/jazzband/djangorestframework-simplejwt)
- [django-filter](https://github.com/carltongibson/django-filter/)
- [python-dotenv](https://github.com/theskumar/python-dotenv)
- [drf-yasg](https://github.com/axnsan12/drf-yasg)
- [pytest](https://docs.pytest.org/)
- [Docker](https://docker.com/)
- [PostgreSQL](https://www.postgresql.org/)
- [Nginx](https://www.nginx.com/)
    
## ‚ö†Ô∏è –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT](https://choosealicense.com/licenses/mit/)


## üßë‚Äçüíª –ê–≤—Ç–æ—Ä—ã

- [–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ï–∂–æ–≤](https://www.github.com/Niea-under-7)
- [–ï–≥–æ—Ä –ñ–∏—Ç–Ω–∏–∫–æ–≤](https://www.github.com/egor-zhit)
- [–†–æ–º–∞–Ω –ü–µ—Ç—Ä–∞–∫–æ–≤](https://www.github.com/spaut33) - –¢–∏–º–ª–∏–¥



- [–°–µ—Ä–≥–µ–π –ò–≤–∞–∫–∏–Ω](https://github.com/sergej-i) - –ù–∞—Å—Ç–∞–≤–Ω–∏–∫
- [–ê–Ω–¥—Ä–µ–π –ö–≤–∏—á–∞–Ω—Å–∫–∏–π](https://www.github.com/kvichans) - –†–µ–≤—å—é–µ—Ä
